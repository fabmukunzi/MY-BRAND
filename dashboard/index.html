<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src="https://kit.fontawesome.com/f559c39257.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="../assets/img/profle-modified.png" type="image/x-icon">
</head>

<body>
    <div id="body">
        <div id="navbar">
            <div id="logo-container">
                <div id="logo"></div>
                <label for="">FM</label>
            </div>
            <div id="other">
                <div id="add-article" class="Primary-btn" onclick="AddArticle()">Add Article</div>
                <div id="change-password-btn" class="Primary-btn">Change password</div>
                <a href="../index.html#login" id="logout-btn" class="Secondary-btn">LOGOUT</a>
            </div>
        </div>
        <div id="body-section">
            <div id="card-container">
                <div class="card">
                    <div class="label">Articles</div>
                    <div class="number">
                        0
                    </div>
                </div>
                <div class="card">
                    <div class="label">Comments</div>
                    <div class="number">
                        0
                    </div>
                </div>
                <div class="card">
                    <div class="label">Messages</div>
                    <div class="number">
                        0
                    </div>
                </div>

            </div>
            <div id="table-container">
                <div id="table-nav">
                    <!--<div id="title">Table</div>-->
                    <div id="other">
                        <div class="modes active" id="showarticles" onclick="showArticles()">Articles</div>
                        <div class="modes" id="showcomments" onclick="showComments()">Comments</div>
                        <div class="modes" id="showmessages" onclick="showMessages()">Messages</div>
                    </div>
                </div>
                <div id="table1" class="articless table">

                    <table class="keywords" cellspacing="0" cellpadding="0">
                        <thead>
                            <tr>
                                <th><span>Article Title</span></th>
                                <th><span>Creation Date</span></th>
                                <th><span>Options</span></th>
                            </tr>
                        </thead>
                        <tbody id="article-section">
                            <!--from localstorage-->
                        </tbody>
                    </table>
                </div>
                <div id="table2" class="comments table">

                    <table class="keywords" cellspacing="0" cellpadding="0">
                        <thead>
                            <tr>
                                <th><span>Name</span></th>
                                <th><span>Date</span></th>
                                <th><span>Comment</span></th>
                                <!-- <th><span>Option</span></th> -->
                            </tr>
                        </thead>
                        <tbody id="comments-section">
                            <!-- comments from db -->
                        </tbody>
                    </table>
                </div>
                <div id="table3" class="messages table">

                    <table class="keywords" cellspacing="0" cellpadding="0">
                        <thead>
                            <tr>
                                <th><span>Name</span></th>
                                <th><span>Date</span></th>
                                <th><span>Message</span></th>
                                <th><span>Contacts</span></th>
                                <th><span>Option</span></th>
                            </tr>
                        </thead>
                        <tbody id="message-section">
                            <!-- from database -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div id="add-articles" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="profile">
                <div class="profile-head" style="font-size: 2rem;font-weight:bold;">Add Article</div>
                <div class="add-article-form">
                    <form onkeypress="return validateArticle()" onsubmit="return validateSubArticle()">
                        <label for="names"></label>
                        <input type="text" name="title" id="new-title" placeholder="Title">
                        <div class="error add-title-error">Invalid Title</div>
                        <label for="cover-pic" class="cover-pic-label">Cover Picture</label>
                        <input type="file" name="profile-pic" id="cover-pic" accept=".jpg, .jpeg, .png" hidden>
                        <div class="error add-cover-error">Please Insert an Image</div>
                        <div id="toolbar">
                            <button type="button" id="bold" onclick="makeBold()"> <i class="fa-solid fa-bold"></i> </button>
                            <button type="button" id="italic" onclick="makeItalic()"> <i class="fa-solid fa-italic"></i> </button>
                            <button type="button" id="underline" onclick="doUnderline()"> <i class="fa-solid fa-underline"></i> </button>
                            <button type="button" onclick="justifyLeft()"> <i class="fa-solid fa-align-left"></i> </button>
                            <button type="button" onclick="justifyCenter()"> <i class="fa-solid fa-align-center"></i> </button>
                            <button type="button" onclick="justifyRight()"> <i class="fa-solid fa-align-right"></i> </button>
                        </div>
                        <div id="editor" contenteditable="true" placeholder="Add Description" oninput="if(this.innerHTML.trim()==='<br>')this.innerHTML=''"></div>
                        <div class="error add-desc-error">Invalid description</div>
                        <button type="button" id="send-article">Add</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="edit-articles" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="profile">
                <div class="profile-head" style="font-size: 2rem;font-weight:bold;">Edit Article</div>
                <div class="edit-article-form">
                    <form method="post" onkeypress="return validateArticle()" onsubmit="return validateSubArticle()">
                        <label for="names">Title</label>
                        <input type="text" name="title" id="edit-title">
                        <div class="error add-title-error">Invalid Title</div>
                        <label for="edit-cover-pic" class="cover-pic-label">Cover Picture</label>
                        <input type="file" name="edit-profile-pic" id="edit-cover-pic" accept=".jpg, .jpeg, .png">
                        <div class="error add-cover-error">Please Insert an Image</div>
                        <div id="toolbar">
                            <button type="button" id="bold" onclick="makeBold()"> <i class="fa-solid fa-bold"></i> </button>
                            <button type="button" id="italic" onclick="makeItalic()"> <i class="fa-solid fa-italic"></i> </button>
                            <button type="button" id="underline" onclick="doUnderline()"> <i class="fa-solid fa-underline"></i> </button>
                            <button type="button" onclick="justifyLeft()"> <i class="fa-solid fa-align-left"></i> </button>
                            <button type="button" onclick="justifyCenter()"> <i class="fa-solid fa-align-center"></i> </button>
                            <button type="button" onclick="justifyRight()"> <i class="fa-solid fa-align-right"></i> </button>
                        </div>
                        <div id="ed" contenteditable="true"></div>
                        <div class="error add-desc-error">Invalid description</div>
                        <button type="submit" id="update-article">Update</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script>
    //     let data=new FormData();
    //          data.append("title", title.value);
    //          data.append("content", description.innerHTML);
    //          data.append("image", picture.files[0].name)
    //  let bToken=JSON.parse(localStorage.getItem("token"))
    //     fetch("https://my-brand-backend.up.railway.app/api/v1/blogs",{
    //         method:"POST",
    //         headers:{"Authorization":"Bearer "+bToken},
    //         body:data,
            
    // }).then(res=>{return res.json()})
    // .then((data)=>{
    //     console.log(bToken.token)
    // if(data.message==="Unauthorized request"){
    //     alert("you need to login first")
    //     window.location.replace("http://127.0.0.1:5502/index.html#login");
    //     //window.location("")
    // }}
    // )
    // .catch((err)=>console.log(err))
    </script>
    <script src="../js/dashboard.js"></script>
    <script src="../js/dashValidations.js"></script>
    <script src="./assets/js/main.js"></script>
</body>

</html>